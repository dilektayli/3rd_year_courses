You can find the way I followed in the report.pdf
I tried to explain the codes with comments. 
In the makefile you can run the code easily. 